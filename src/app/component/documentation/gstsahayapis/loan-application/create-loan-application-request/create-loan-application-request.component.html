<form [formGroup]="documentationForm">
    <div class="b4l-documentation-content charges-roi b4l-height">
        <div class="b4l-height">
            <div class="card-header row row-flex">
                <h3 class="card-title" style="border-left-color: inherit; ">
                <b><span class="label-text">Create Loan Application Request</span></b>
                </h3><!---->
            </div>
            <div class="card-body"><!---->
                <div class="well well-sm p-0">
                    <div class="table-container">
                        <div class="form-group">
                            <mat-form-field style="width: 10em; background-color: #777;">
                                <input matInput type="text" style="font-weight: bold; color: white;" value="API - URL" [disabled]="true">
                            </mat-form-field>
                            <mat-form-field style="width: 90em;">
                                <input matInput style="font-weight: bold; font-size: 15px;" type="text" value="https://qa-opl.instantmseloans.in/b4l/ruleengine/web/ruleengine/v3.3/loanApplication/createLoanApplicationsRequest">
                            </mat-form-field>
                            <button mat-button style="float: right;font-weight: bold; height: 4em;" color="primary">POST</button>
                        </div>
                    </div>
                    
                </div><!---->
                <p>
                    <span>API to Create Loan Application Request.</span>
                </p>
                <mat-tab-group>
                    <mat-tab label="Documentation">
                        <div>
                            <div class="b4l-height">
                                <div class="card-header row row-flex">
                                    <h3 class="card-title" style="border-left-color: inherit; ">
                                    <span class="label-text">Request</span>
                                    </h3><!---->
                                </div>
                                <div class="card-body">
                                    <mat-tab-group animationDuration="0ms" (selectedTabChange)="tabClick($event)">
                                        <mat-tab label="Schema">
                                            <br>
                                            <table>
                                            <tr>
                                                <th>AttributeName</th>
                                                <th>Type</th>
                                                <th>Validation</th>
                                                <th>Required</th>
                                                <th>Description</th>
                                            </tr>
                                            <ng-container *ngFor="let reqschema of apiRequestSchemaData" [matColumnDef]="reqschema">
                                                    <tr>
                                                        <td>
                                                            <div *ngIf="reqschema.isDomain">
                                                                <a href="" ng-click="getDomainSchema(reqschema.attributeName);" data-id="{{reqschema.attributeName}}" data-toggle="modal" data-target="#skillModal">{{reqschema.attributeName}}</a>
                                                            </div>
                                                            <div *ngIf="!reqschema.isDomain">
                                                                <a>{{reqschema.attributeName}}</a>
                                                            </div>
                                                        </td>
                                                        <td> {{reqschema.type}} </td>
                                                        <td> {{reqschema.validation}} </td>
                                                        <td> {{reqschema.isRequired}} </td>
                                                        <td> {{reqschema.description}} </td>
                                                    </tr>
                                            </ng-container>
                                            </table>
                                        </mat-tab>
                                        <mat-tab label="Body">Body</mat-tab>
                                        <mat-tab label="Header">Header</mat-tab>
                                      </mat-tab-group>
                                </div>
                            </div>
                            <div class="b4l-height">
                                <div class="card-header row row-flex">
                                    <h3 class="card-title" style="border-left-color: inherit; ">
                                    <span class="label-text">Response</span>
                                    </h3><!---->
                                </div>
                                <div class="card-body">
                                    <mat-tab-group animationDuration="0ms" (selectedTabChange)="tabClick($event)">
                                        <mat-tab label="Schema">
                                            <br>
                                            <table>
                                            <tr>
                                                <th>AttributeName</th>
                                                <th>Type</th>
                                                <th>Validation</th>
                                                <th>Required</th>
                                                <th>Description</th>
                                            </tr>
                                            <ng-container *ngFor="let resschema of apiResponseSchemaData" [matColumnDef]="resschema">
                                                    <tr>
                                                        <td>
                                                            <div *ngIf="resschema.isDomain">
                                                                <a href="" ng-click="getDomainSchema(resschema.attributeName);" data-id="{{resschema.attributeName}}" data-toggle="modal" data-target="#skillModal">{{resschema.attributeName}}</a>
                                                            </div>
                                                            <div *ngIf="!resschema.isDomain">
                                                                <a>{{resschema.attributeName}}</a>
                                                            </div>
                                                        </td>
                                                        <td> {{resschema.type}} </td>
                                                        <td> {{resschema.validation}} </td>
                                                        <td> {{resschema.isRequired}} </td>
                                                        <td> {{resschema.description}} </td>
                                                    </tr>
                                            </ng-container>
                                            </table>
                                        </mat-tab>
                                        <mat-tab label="Body">Body</mat-tab>
                                        <mat-tab label="Header">Header</mat-tab>
                                      </mat-tab-group>
                                </div>
                            </div>
                        </div>
                    </mat-tab>
                    <mat-tab label="Tryout">
                        <div>
                            <div class="example-container">
                                <mat-accordion class="example-headers-align" multi>
                                <mat-expansion-panel *ngFor="let loanApp of documentationForm.controls.loanApplications.controls;let i = index;" [expanded]="true">
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>Loan Application Details ({{i+1}}) ({{loanApp.loanApplicationId}})</mat-panel-title>
                                        <button type="button" mat-stroked-button color="psbprimary" class="psb-b-blue" (click)="addNewLoanApplication()">Add Loan Application</button>
                                        <mat-icon (click)="removeIndexFromList(loanApp,documentationForm.controls.loanApplications.controls)">delete_forever</mat-icon>
                                    </mat-expansion-panel-header>
                                    <form [formGroup]="loanApp">
                                        
                                        <mat-form-field style="width: 25em;">
                                            <mat-label>Loan ApplicationId</mat-label>
                                            <input matInput type="text" formControlName="loanApplicationId" readonly>
                                        </mat-form-field>
        
                                        <mat-form-field>
                                            <mat-label>ProductId Type</mat-label>
                                            <mat-select formControlName="productId">
                                                <mat-option *ngFor="let data of productIdTypeMaster" [value]="data">{{data}}</mat-option>
                                            </mat-select>
                                        </mat-form-field>
        
                                        <mat-form-field>
                                            <mat-label>Loan Product Type</mat-label>
                                            <mat-select formControlName="productType">
                                                <mat-option *ngFor="let data of loanProductTypeMaster" [value]="data">{{data}}</mat-option>
                                            </mat-select>
                                        </mat-form-field>
        
                                        <mat-form-field>
                                            <mat-label>Loan Application Status</mat-label>
                                            <mat-select formControlName="loanApplicationStatus">
                                                <mat-option *ngFor="let data of loanApplicationStatusMaster" [value]="data">{{data}}</mat-option>
                                            </mat-select>
                                        </mat-form-field>

                                        <br/><br/>
                                        <mat-expansion-panel [expanded]="true">
                                            <mat-expansion-panel-header>
                                                <mat-panel-title>Borrower Details</mat-panel-title>
                                            </mat-expansion-panel-header>
                                            <form formGroupName="borrower">
                                                <mat-form-field>
                                                    <mat-label>Primary Id</mat-label>
                                                    <input matInput type="text" formControlName="primaryId" readonly>
                                                </mat-form-field>
        
                                                <mat-form-field>
                                                    <mat-label>Primary Id Type</mat-label>
                                                    <mat-select formControlName="primaryIdType">
                                                        <mat-option *ngFor="let data of borrowerPrimaryTypeMaster" [value]="data">{{data}}</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
        
                                                <mat-form-field>
                                                    <mat-label>Category</mat-label>
                                                    <mat-select formControlName="category">
                                                        <mat-option *ngFor="let data of borrowerCategoryMaster" [value]="data">{{data}}</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                                <br/><br/>
                                                <mat-expansion-panel *ngFor="let documentDetail of documentationForm.controls.loanApplications.controls[i].controls.borrower.controls.documents.controls;let d = index" [expanded]="true">
                                                    <mat-expansion-panel-header>
                                                        <mat-panel-title>Document Details ({{d+1}})</mat-panel-title>
                                                        <button type="button" mat-stroked-button color="psbprimary" class="psb-b-blue" (click)="addDocumentList('borrowerData',loanApp)">Add Document</button>
                                                        <mat-icon (click)="removeIndexFromList(documentDetail,documentationForm.controls.loanApplications.controls[i].controls.borrower.controls.documents.controls)">delete_forever</mat-icon>
                                                    </mat-expansion-panel-header>
                                                    <form [formGroup]="documentDetail">
                                                        <mat-form-field>
                                                            <mat-label>Source Id</mat-label>
                                                            <input matInput type="text" formControlName="sourceId" readonly>
                                                        </mat-form-field>
        
                                                        <mat-form-field>
                                                            <mat-label>Source Type</mat-label>
                                                            <mat-select formControlName="sourceType">
                                                                <mat-option *ngFor="let data of sourcetypeMaster" [value]="data">{{data}}</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
        
                                                        <mat-form-field>
                                                            <mat-label>Reference Id</mat-label>
                                                            <input matInput type="text" formControlName="reference" readonly>
                                                        </mat-form-field>
        
                                                        <mat-form-field>
                                                            <mat-label>Format</mat-label>
                                                            <mat-select formControlName="format">
                                                                <mat-option *ngFor="let data of documentFormatMaster" [value]="data">{{data}}</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
        
                                                        <mat-form-field>
                                                            <mat-label>Type</mat-label>
                                                            <mat-select formControlName="type">
                                                                <mat-option *ngFor="let data of documentTypeMaster" [value]="data">{{data}}</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
        
                                                        <mat-form-field>
                                                            <mat-label>Is Data Inline</mat-label>
                                                            <input matInput type="boolean" formControlName="isDataInline">
                                                        </mat-form-field>
                                                        <br/><br/>
                                                        <mat-expansion-panel [expanded]="true">
                                                            <mat-expansion-panel-header>
                                                                <mat-panel-title>GST Profile Data</mat-panel-title>
                                                            </mat-expansion-panel-header>
                                                            <form formGroupName="data">
                                                                <mat-form-field>
                                                                    <mat-label>stjCd</mat-label>
                                                                    <input matInput type="text" formControlName="stjCd">
                                                                </mat-form-field>
        
                                                                <mat-form-field>
                                                                    <mat-label>dty</mat-label>
                                                                    <input matInput type="text" formControlName="dty">
                                                                </mat-form-field>
        
                                                                <mat-form-field>
                                                                    <mat-label>lgnm</mat-label>
                                                                    <input matInput type="text" formControlName="lgnm">
                                                                </mat-form-field>
        
                                                                <mat-form-field>
                                                                    <mat-label>stj</mat-label>
                                                                    <input matInput type="text" formControlName="stj">
                                                                </mat-form-field>
        
                                                                <mat-form-field>
                                                                    <mat-label>cxdt</mat-label>
                                                                    <input matInput type="text" formControlName="cxdt">
                                                                </mat-form-field>
        
                                                                <mat-form-field>
                                                                    <mat-label>GstIn</mat-label>
                                                                    <input matInput type="text" formControlName="gstin">
                                                                </mat-form-field>
        
                                                                <div *ngIf="documentationForm.controls.loanApplications.controls[i].controls.borrower.controls.documents.controls[d].controls.data.controls.nba.controls.length > 0">
                                                                    <div *ngFor="let nbaData of documentationForm.controls.loanApplications.controls[i].controls.borrower.controls.documents.controls[d].controls.data.controls.nba.controls;let n = index">
                                                                        <div [formGroup]="nbaData">
                                                                            <mat-form-field>
                                                                                <mat-label>nba ({{n+1}})</mat-label>
                                                                                <input matInput type="text" [formControl]="nbaData">
                                                                            </mat-form-field>
        
                                                                            <button *ngIf="n == 0" mat-icon-button (click)="addNewNba(documentationForm.controls.loanApplications.controls[i].controls.borrower.controls.documents.controls[d].controls.data.controls.nba)">
                                                                                <mat-icon>add_box</mat-icon>
                                                                            </button>
        
                                                                            <button mat-icon-button (click)="removeIndexFromList(nbaData,documentationForm.controls.loanApplications.controls[i].controls.borrower.controls.documents.controls[d].controls.data.controls.nba.controls)">
                                                                                <mat-icon>indeterminate_check_box</mat-icon>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
        
                                                                <div *ngIf="documentationForm.controls.loanApplications.controls[i].controls.borrower.controls.documents.controls[d].controls.data.controls.nba.controls.length == 0">
                                                                    <div>
                                                                        <button mat-icon-button (click)="addNewNba(documentationForm.controls.loanApplications.controls[i].controls.borrower.controls.documents.controls[d].controls.data.controls.nba)">Add nba
                                                                            <mat-icon>add_box</mat-icon>
                                                                        </button>
                                                                    </div>
                                                                </div>
        
                                                                <mat-form-field>
                                                                    <mat-label>Last update</mat-label>
                                                                    <input matInput type="text" formControlName="lstupdt">
                                                                </mat-form-field>
        
                                                                <mat-form-field>
                                                                    <mat-label>ctb</mat-label>
                                                                    <input matInput type="text" formControlName="ctb">
                                                                </mat-form-field>
        
                                                                <mat-form-field>
                                                                    <mat-label>rgdt</mat-label>
                                                                    <input matInput type="text" formControlName="rgdt">
                                                                </mat-form-field>

                                                                <br/><br/>
                                                                <mat-expansion-panel [expanded]="true">
                                                                    <mat-expansion-panel-header>
                                                                        <mat-panel-title>pradr</mat-panel-title>
                                                                    </mat-expansion-panel-header>
                                                                    <form formGroupName="pradr">
                                                                        <mat-expansion-panel [expanded]="true">
                                                                            <mat-expansion-panel-header>
                                                                                <mat-panel-title>Address</mat-panel-title>
                                                                            </mat-expansion-panel-header>
                                                                            <form formGroupName="addr">
                                                                                <mat-form-field>
                                                                                    <mat-label>bnm</mat-label>
                                                                                    <input matInput type="text" formControlName="bnm">
                                                                                </mat-form-field>
        
                                                                                <mat-form-field>
                                                                                    <mat-label>Street</mat-label>
                                                                                    <input matInput type="text" formControlName="st">
                                                                                </mat-form-field>
        
                                                                                <mat-form-field>
                                                                                    <mat-label>Location</mat-label>
                                                                                    <input matInput type="text" formControlName="loc">
                                                                                </mat-form-field>
        
                                                                                <mat-form-field>
                                                                                    <mat-label>bno</mat-label>
                                                                                    <input matInput type="text" formControlName="bno">
                                                                                </mat-form-field>
        
                                                                                <mat-form-field>
                                                                                    <mat-label>State code</mat-label>
                                                                                    <input matInput type="text" formControlName="stcd">
                                                                                </mat-form-field>
        
                                                                                <mat-form-field>
                                                                                    <mat-label>District</mat-label>
                                                                                    <input matInput type="text" formControlName="dst">
                                                                                </mat-form-field>
        
                                                                                <mat-form-field>
                                                                                    <mat-label>City</mat-label>
                                                                                    <input matInput type="text" formControlName="city">
                                                                                </mat-form-field>
        
                                                                                <mat-form-field>
                                                                                    <mat-label>Flat No.</mat-label>
                                                                                    <input matInput type="text" formControlName="flno">
                                                                                </mat-form-field>
        
                                                                                <mat-form-field>
                                                                                    <mat-label>lt</mat-label>
                                                                                    <input matInput type="text" formControlName="lt">
                                                                                </mat-form-field>
        
                                                                                <mat-form-field>
                                                                                    <mat-label>Pincode</mat-label>
                                                                                    <input matInput type="text" formControlName="pncd">
                                                                                </mat-form-field>
        
                                                                                <mat-form-field>
                                                                                    <mat-label>lg</mat-label>
                                                                                    <input matInput type="text" formControlName="lg">
                                                                                </mat-form-field>
                                                                            </form>
                                                                        </mat-expansion-panel>
                                                                        <br/>
                                                                        <div *ngIf="documentationForm.controls.loanApplications.controls[i].controls.borrower.controls.documents.controls[d].controls.data.controls.pradr.controls.ntr.controls.length > 0">
                                                                            <div *ngFor="let ntrData of documentationForm.controls.loanApplications.controls[i].controls.borrower.controls.documents.controls[d].controls.data.controls.pradr.controls.ntr.controls;let ntr = index">
                                                                                <div [formGroup]="ntrData">
                                                                                    <mat-form-field>
                                                                                        <mat-label>ntr ({{ntr+1}})</mat-label>
                                                                                        <input matInput type="text" [formControl]="ntrData">
                                                                                    </mat-form-field>
                
                                                                                    <button *ngIf="ntr == 0" mat-icon-button (click)="addNewNba(documentationForm.controls.loanApplications.controls[i].controls.borrower.controls.documents.controls[d].controls.data.controls.pradr.controls.ntr)">
                                                                                        <mat-icon>add_box</mat-icon>
                                                                                    </button>
                
                                                                                    <button mat-icon-button (click)="removeIndexFromList(ntrData,documentationForm.controls.loanApplications.controls[i].controls.borrower.controls.documents.controls[d].controls.data.controls.pradr.controls.ntr.controls)">
                                                                                        <mat-icon>indeterminate_check_box</mat-icon>
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <!-- <mat-form-field>
                                                                            <mat-label>ntr</mat-label>
                                                                            <input matInput type="text" formControlName="ntr">
                                                                        </mat-form-field> -->
                                                                    </form>
                                                                </mat-expansion-panel>
                                                                <br/>
                                                                <mat-form-field>
                                                                    <mat-label>ctjCd</mat-label>
                                                                    <input matInput type="text" formControlName="ctjCd">
                                                                </mat-form-field>
        
                                                                <mat-form-field>
                                                                    <mat-label>Trade Name</mat-label>
                                                                    <input matInput type="text" formControlName="tradeNam">
                                                                </mat-form-field>
        
                                                                <mat-form-field>
                                                                    <mat-label>Status</mat-label>
                                                                    <input matInput type="text" formControlName="sts">
                                                                </mat-form-field>
        
                                                                <mat-form-field>
                                                                    <mat-label>ctj</mat-label>
                                                                    <input matInput type="text" formControlName="ctj">
                                                                </mat-form-field>
        
                                                            </form>
                                                        </mat-expansion-panel>
                                                    </form>
                                                </mat-expansion-panel>
                                            </form>
                                        </mat-expansion-panel>
                                        <br/>
                                        <mat-expansion-panel [expanded]="true">
                                            <mat-expansion-panel-header>
                                                <mat-panel-title>Lender Details</mat-panel-title>
                                            </mat-expansion-panel-header>
                                            <form formGroupName="lender">
                                                <mat-form-field>
                                                    <mat-label>Primary Id</mat-label>
                                                    <input matInput type="text" formControlName="primaryId" readonly>
                                                </mat-form-field>
        
                                                <mat-form-field>
                                                    <mat-label>Primary Id Type</mat-label>
                                                    <mat-select formControlName="primaryIdType">
                                                        <mat-option *ngFor="let data of borrowerPrimaryTypeMaster" [value]="data">{{data}}</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
        
                                                <mat-form-field>
                                                    <mat-label>Category</mat-label>
                                                    <mat-select formControlName="category">
                                                        <mat-option *ngFor="let data of borrowerCategoryMaster" [value]="data">{{data}}</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </form>
                                        </mat-expansion-panel>
                                        <br/>
                                        <mat-expansion-panel *ngFor="let pledgeDocument of documentationForm.controls.loanApplications.controls[i].controls.pledgedDocuments.controls;let p = index" [expanded]="true">
                                            <mat-expansion-panel-header>
                                                <mat-panel-title>Pledge Document Details</mat-panel-title>
                                            </mat-expansion-panel-header>
                                            <form [formGroup]="pledgeDocument">
                                                <mat-form-field>
                                                    <mat-label>Primary Id</mat-label>
                                                    <input matInput type="text" formControlName="primaryId" readonly>
                                                </mat-form-field>
        
                                                <mat-form-field>
                                                    <mat-label>Primary Id Type</mat-label>
                                                    <mat-select formControlName="primaryIdType">
                                                        <mat-option *ngFor="let data of pledgedDocumentPrimaryIdTypeMaster" [value]="data">{{data}}</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
        
                                                <mat-form-field>
                                                    <mat-label>Type</mat-label>
                                                    <mat-select formControlName="type">
                                                        <mat-option *ngFor="let data of pledgedDocumentType" [value]="data">{{data}}</mat-option>
                                                    </mat-select>
                                                </mat-form-field>

                                                <br/><br/>
                                                <mat-expansion-panel *ngFor="let documentDetail of documentationForm.controls.loanApplications.controls[i].controls.pledgedDocuments.controls[p].controls.documents.controls;let d = index" [expanded]="true">
                                                    <mat-expansion-panel-header>
                                                        <mat-panel-title>Document Details ({{d+1}})</mat-panel-title>
                                                        <!-- <button type="button" mat-stroked-button color="psbprimary" class="psb-b-blue" (click)="addDocumentList('pledgeData',loanApp)">Add Document</button> -->
                                                        <!-- <mat-icon (click)="removeIndexFromList(documentDetail,documentationForm.controls.loanApplications.controls[i].controls.pledgeDocument.controls.documents.controls)">delete_forever</mat-icon> -->
                                                    </mat-expansion-panel-header>
                                                    <form [formGroup]="documentDetail">
                                                        <mat-form-field>
                                                            <mat-label>Source Id</mat-label>
                                                            <input matInput type="text" formControlName="sourceId" readonly>
                                                        </mat-form-field>
        
                                                        <mat-form-field>
                                                            <mat-label>Source Type</mat-label>
                                                            <mat-select formControlName="sourceType">
                                                                <mat-option *ngFor="let data of sourcetypeMaster" [value]="data">{{data}}</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
        
                                                        <mat-form-field>
                                                            <mat-label>Reference Id</mat-label>
                                                            <input matInput type="text" formControlName="reference" readonly>
                                                        </mat-form-field>
        
                                                        <mat-form-field>
                                                            <mat-label>Format</mat-label>
                                                            <mat-select formControlName="format">
                                                                <mat-option *ngFor="let data of documentFormatMaster" [value]="data">{{data}}</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
        
                                                        <mat-form-field>
                                                            <mat-label>Type</mat-label>
                                                            <mat-select formControlName="type">
                                                                <mat-option *ngFor="let data of documentTypeMaster" [value]="data">{{data}}</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
        
                                                        <mat-form-field>
                                                            <mat-label>Is Data Inline</mat-label>
                                                            <input matInput type="boolean" formControlName="isDataInline">
                                                        </mat-form-field>
                                                        
                                                        <br/><br/>
                                                        <mat-expansion-panel [expanded]="true">
                                                            <mat-expansion-panel-header>
                                                                <mat-panel-title>GST Invoice Profile</mat-panel-title>
                                                            </mat-expansion-panel-header>
                                                            <form formGroupName="data">
        
                                                                <mat-form-field>
                                                                    <mat-label>ctin</mat-label>
                                                                    <input matInput type="text" formControlName="ctin">
                                                                </mat-form-field>
        
                                                                <mat-form-field>
                                                                    <mat-label>cfs</mat-label>
                                                                    <input matInput type="text" formControlName="cfs">
                                                                </mat-form-field>

                                                                <br/><br/>
                                                                <mat-expansion-panel *ngFor="let invoiceDetail of documentationForm.controls.loanApplications.controls[i].controls.pledgedDocuments.controls[p].controls.documents.controls[d].controls.data.controls.inv.controls;let in = index" [expanded]="true">
                                                                    <mat-expansion-panel-header>
                                                                        <mat-panel-title>GST Invoice Details ({{in+1}})</mat-panel-title>
                                                                        <!-- <mat-icon (click)="removeIndexFromList(invoiceDetail,documentationForm.controls.loanApplications.controls[i].controls.pledgeDocument.controls.documents.controls[d].controls.data.controls.inv.controls)">delete_forever</mat-icon> -->
                                                                    </mat-expansion-panel-header>
                                                                    <form [formGroup]="invoiceDetail">
        
                                                                        <mat-form-field>
                                                                            <mat-label>CheckSum</mat-label>
                                                                            <input matInput type="text" formControlName="chksum">
                                                                        </mat-form-field>
        
                                                                        <mat-form-field>
                                                                            <mat-label>Update By</mat-label>
                                                                            <input matInput type="text" formControlName="updby">
                                                                        </mat-form-field>
        
                                                                        <mat-form-field>
                                                                            <mat-label>Invoice Number</mat-label>
                                                                            <input matInput type="text" formControlName="inum">
                                                                        </mat-form-field>
        
                                                                        <mat-form-field>
                                                                            <mat-label>Invoice Date</mat-label>
                                                                            <input matInput type="text" formControlName="idt">
                                                                        </mat-form-field>
        
                                                                        <mat-form-field>
                                                                            <mat-label>Value</mat-label>
                                                                            <input matInput type="number" formControlName="val">
                                                                        </mat-form-field>
        
                                                                        <mat-form-field>
                                                                            <mat-label>pos</mat-label>
                                                                            <input matInput type="text" formControlName="pos">
                                                                        </mat-form-field>
        
                                                                        <mat-form-field>
                                                                            <mat-label>Recharge</mat-label>
                                                                            <input matInput type="text" formControlName="rchrg">
                                                                        </mat-form-field>
        
                                                                        <mat-form-field>
                                                                            <mat-label>etin</mat-label>
                                                                            <input matInput type="text" formControlName="etin">
                                                                        </mat-form-field>
        
                                                                        <mat-form-field>
                                                                            <mat-label>Invoice Type</mat-label>
                                                                            <input matInput type="text" formControlName="inv_typ">
                                                                        </mat-form-field>
        
                                                                        <mat-form-field>
                                                                            <mat-label>cflag</mat-label>
                                                                            <input matInput type="text" formControlName="cflag">
                                                                        </mat-form-field>
        
                                                                        <mat-form-field>
                                                                            <mat-label>diff_percent</mat-label>
                                                                            <input matInput type="number" formControlName="diff_percent">
                                                                        </mat-form-field>
        
                                                                        <mat-form-field>
                                                                            <mat-label>opd</mat-label>
                                                                            <input matInput type="text" formControlName="opd">
                                                                        </mat-form-field>
                                                                        
                                                                        <br/><br/>
                                                                        <mat-expansion-panel *ngFor="let items of documentationForm.controls.loanApplications.controls[i].controls.pledgedDocuments.controls[p].controls.documents.controls[d].controls.data.controls.inv.controls[in].controls.itms.controls;let item = index" [expanded]="true">
                                                                            <mat-expansion-panel-header>
                                                                                <mat-panel-title>Invoice Items ({{item+1}})</mat-panel-title>
                                                                                <!-- <button type="button" mat-stroked-button color="psbprimary" class="psb-b-blue" (click)="addItemsList(invoiceDetail)">Add Items</button>
                                                                                <mat-icon (click)="removeIndexFromList(items,documentationForm.controls.loanApplications.controls[i].controls.pledgedDocuments.controls.documents.controls[d].controls.data.controls.inv.controls[in].controls.itms.controls)">delete_forever</mat-icon> -->
                                                                            </mat-expansion-panel-header>
                                                                            <form [formGroup]="items">
        
                                                                                <mat-form-field>
                                                                                    <mat-label>Number</mat-label>
                                                                                    <input matInput type="number" formControlName="num">
                                                                                </mat-form-field>
                                                                                
                                                                                <br/><br/>
                                                                                <mat-expansion-panel [expanded]="true">
                                                                                    <mat-expansion-panel-header>
                                                                                        <mat-panel-title>Invoice Item Details</mat-panel-title>
                                                                                    </mat-expansion-panel-header>
                                                                                    <form formGroupName="itm_det">
        
                                                                                        <mat-form-field>
                                                                                            <mat-label>rt</mat-label>
                                                                                            <input matInput type="number" formControlName="rt">
                                                                                        </mat-form-field>
        
                                                                                        <mat-form-field>
                                                                                            <mat-label>Tax value</mat-label>
                                                                                            <input matInput type="number" formControlName="txval">
                                                                                        </mat-form-field>
        
                                                                                        <mat-form-field>
                                                                                            <mat-label>iamt</mat-label>
                                                                                            <input matInput type="number" formControlName="iamt">
                                                                                        </mat-form-field>
        
                                                                                        <mat-form-field>
                                                                                            <mat-label>camt</mat-label>
                                                                                            <input matInput type="number" formControlName="camt">
                                                                                        </mat-form-field>
        
                                                                                        <mat-form-field>
                                                                                            <mat-label>samt</mat-label>
                                                                                            <input matInput type="number" formControlName="samt">
                                                                                        </mat-form-field>
        
                                                                                        <mat-form-field>
                                                                                            <mat-label>csamt</mat-label>
                                                                                            <input matInput type="number" formControlName="csamt">
                                                                                        </mat-form-field>
        
                                                                                    </form>
                                                                                </mat-expansion-panel>
                                                                            </form>
                                                                        </mat-expansion-panel>
                                                                        
                                                                    </form>
                                                                </mat-expansion-panel>
                                                                <!-- <button type="button" mat-stroked-button color="psbprimary" class="psb-b-blue" (click)="addInvoiceList(documentDetail)">Add Invoice
                                                                </button> -->
        
                                                            </form>
                                                        </mat-expansion-panel>
        
                                                    </form>
                                                </mat-expansion-panel>
                                            </form>
                                        </mat-expansion-panel>
                                        <br/>
                                        <mat-expansion-panel *ngFor="let applicantDetails of documentationForm.controls.loanApplications.controls[i].controls.applicants.controls;let a = index" [expanded]="true">
                                            <mat-expansion-panel-header>
                                                <mat-panel-title>Applicant Details ({{a+1}})</mat-panel-title>
                                                <button type="button" mat-stroked-button color="psbprimary" class="psb-b-blue" (click)="addApplicantDetails(loanApp)">Add Applicant Details</button>
                                                <mat-icon (click)="removeIndexFromList(applicantDetails,documentationForm.controls.loanApplications.controls[i].controls.applicants.controls)">delete_forever</mat-icon>
                                            </mat-expansion-panel-header>
                                            <form [formGroup]="applicantDetails">
                                                <div>
                                                    <mat-form-field>
                                                        <mat-label>Primary Id</mat-label>
                                                        <input matInput type="text" formControlName="primaryId" readonly>
                                                    </mat-form-field>
        
                                                    <mat-form-field>
                                                        <mat-label>Primary Id Type</mat-label>
                                                        <mat-select formControlName="primaryIdType">
                                                            <mat-option *ngFor="let data of applicantPrimaryIdTypeMaster" [value]="data">{{data}}</mat-option>
                                                        </mat-select>
                                                    </mat-form-field>

                                                    <mat-form-field>
                                                        <mat-label>Category</mat-label>
                                                        <mat-select formControlName="category">
                                                            <mat-option *ngFor="let data of borrowerCategoryMaster" [value]="data">{{data}}</mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
        
                                                </div>
                                            </form>
                                        </mat-expansion-panel>
                                        <br/>
                                        <mat-expansion-panel [expanded]="true">
                                            <mat-expansion-panel-header>
                                                <mat-panel-title>Terms Details</mat-panel-title>
                                            </mat-expansion-panel-header>
                                            <form formGroupName="terms">
                                                <div>
                                                    <mat-form-field>
                                                        <mat-label>Requested Amount</mat-label>
                                                        <input matInput type="text" formControlName="requestedAmount">
                                                    </mat-form-field>
        
                                                    <mat-form-field>
                                                        <mat-label>Currency</mat-label>
                                                        <input matInput type="text" formControlName="currency">
                                                    </mat-form-field>
        
                                                </div>
                                            </form>
                                        </mat-expansion-panel>
                                    </form>
                                </mat-expansion-panel>
                                </mat-accordion>
                                <br/>
                                <button mat-stroked-button style="height: 4em; float: right;" color="primary" href="javascript:void(0)" class="product-btn4" (click)="saveData()"> Create Loan Application Request</button>
                                <br/>
                                <br/>
                                <br/>
                            </div>
                        </div>

                        <mat-tab-group>
                            <mat-tab label="Acknowlegement">
                                <br/>
                                <mat-form-field style="width:100%">
                                    <mat-label>Textarea</mat-label>
                                    <textarea matInput value={{acknowledgementRes}}></textarea>
                                  </mat-form-field>
                            </mat-tab>
                            <mat-tab label="Response">Response</mat-tab>
                        </mat-tab-group>
                    </mat-tab>
                </mat-tab-group>

            </div>
        </div>


    </div>   
</form>
<style>
    table, th , td {
       border: 1px solid grey;
       border-collapse: collapse;
       padding: 5px;
    }
    table tr:nth-child(odd) {
       background-color: #f2f2f2;
    }
    table tr:nth-child(even) {
       background-color: #ffffff;
    }
 </style>